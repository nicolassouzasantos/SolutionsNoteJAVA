
DECLARE
    v_count INTEGER;
BEGIN
    SELECT COUNT(*)
      INTO v_count
      FROM USER_TABLES
     WHERE TABLE_NAME = 'OPERADOR';

    IF v_count = 0 THEN
        EXECUTE IMMEDIATE q'[
            CREATE TABLE OPERADOR (
                ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
                NOME VARCHAR2(255) NOT NULL,
                LOGIN VARCHAR2(100) NOT NULL,
                SENHA VARCHAR2(255) NOT NULL
            )
        ]';
    END IF;

    SELECT COUNT(*)
      INTO v_count
      FROM USER_INDEXES
     WHERE INDEX_NAME = 'UQ_OPERADOR_LOGIN';

    IF v_count = 0 THEN
        EXECUTE IMMEDIATE q'[
            CREATE UNIQUE INDEX UQ_OPERADOR_LOGIN ON OPERADOR (LOGIN)
        ]';
    END IF;
END;
/
=======
CREATE TABLE OPERADOR (
    ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    NOME VARCHAR2(255) NOT NULL,
    LOGIN VARCHAR2(100) NOT NULL,
    SENHA VARCHAR2(255) NOT NULL
);

CREATE UNIQUE INDEX UQ_OPERADOR_LOGIN ON OPERADOR (LOGIN);
